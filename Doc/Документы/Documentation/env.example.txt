# ========================================
# APP CONFIGURATION
# ========================================

# Environment
NODE_ENV=development          # development | production | test

# URLs
APP_URL=http://localhost:3000
API_URL=http://localhost:3001
NEXT_PUBLIC_API_URL=http://localhost:3001

# ========================================
# DATABASE (PostgreSQL)
# ========================================

# Connection string format:
# postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA

DATABASE_URL=postgresql://postgres:password@localhost:5432/shop_dev?schema=public

# Для production с особыми символами в пароле экранируй их:
# ! = %21, @ = %40, # = %23, $ = %24, % = %25
# Пример: password! = password%21

# ========================================
# REDIS (Cache & Queues)
# ========================================

REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=                 # оставь пустым если без пароля

# ========================================
# MEILISEARCH (Search Engine)
# ========================================

MEILI_HOST=http://localhost:7700
MEILI_MASTER_KEY=your-master-key-here

# ========================================
# S3 / R2 (Media Storage)
# ========================================

S3_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
S3_ACCESS_KEY=your-access-key-id
S3_SECRET_KEY=your-secret-access-key
S3_BUCKET=shop-media
S3_REGION=auto
S3_PUBLIC_URL=https://cdn.shop.am

# ========================================
# PAYMENTS - IDRAM
# ========================================
# Callback URL нужно зарегистрировать у Idram: RESULT_URL, SUCCESS_URL, FAIL_URL

IDRAM_TEST_MODE=true            # true = тестовый аккаунт
IDRAM_TEST_REC_ACCOUNT=         # IdramID тестовый (при IDRAM_TEST_MODE=true)
IDRAM_TEST_SECRET_KEY=          # секретный ключ тестовый
IDRAM_REC_ACCOUNT=              # IdramID продакшн
IDRAM_SECRET_KEY=               # секретный ключ продакшн

# ========================================
# PAYMENTS - ARCA
# ========================================

ARCA_MERCHANT_ID=your-merchant-id
ARCA_API_KEY=your-api-key
ARCA_API_URL=https://ipay.arca.am/payment/rest
ARCA_TEST_MODE=true             # true для тестирования

# ========================================
# EMAIL (SMTP)
# ========================================

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false               # true для port 465
SMTP_USER=noreply@shop.am
SMTP_PASSWORD=your-email-password
SMTP_FROM_NAME=MyShop
SMTP_FROM_EMAIL=noreply@shop.am

# ========================================
# SMS (опционально)
# ========================================

SMS_PROVIDER=twilio             # twilio | vonage | messagebird
SMS_API_KEY=your-api-key
SMS_API_SECRET=your-api-secret
SMS_FROM_NUMBER=+374XXXXXXXX

# ========================================
# AUTHENTICATION
# ========================================

# JWT
JWT_SECRET=your-jwt-secret-minimum-32-characters-long
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# NextAuth (если используется)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-nextauth-secret-minimum-32-chars

# Session
SESSION_SECRET=your-session-secret-minimum-32-chars
SESSION_MAX_AGE=604800          # 7 days in seconds

# ========================================
# MONITORING & LOGGING
# ========================================

# Sentry (опционально)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# Logging
LOG_LEVEL=debug                 # debug | info | warn | error
LOG_FORMAT=json                 # json | pretty

# ========================================
# ANALYTICS (опционально)
# ========================================

# Google Analytics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# Facebook Pixel
NEXT_PUBLIC_FB_PIXEL_ID=

# ========================================
# FEATURES FLAGS
# ========================================

FEATURE_WISHLIST=true
FEATURE_REVIEWS=false
FEATURE_COMPARE=false
FEATURE_COUPONS=true

# ========================================
# RATE LIMITING
# ========================================

RATE_LIMIT_WINDOW=60000         # 1 minute in ms
RATE_LIMIT_MAX_REQUESTS=100     # max requests per window

# ========================================
# FILE UPLOAD
# ========================================

MAX_FILE_SIZE=5242880           # 5MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/avif

# ========================================
# DEVELOPMENT ONLY
# ========================================

# Debug
DEBUG=false
MOCK_PAYMENTS=false             # mock платежи для тестирования

# Prisma Studio
PRISMA_STUDIO_PORT=5555

# ========================================
# NOTES
# ========================================

# 1. НИКОГДА не коммитить этот файл с реальными секретами
# 2. Для production создай отдельный .env с production значениями
# 3. Используй менеджер секретов (GitHub Secrets, Vault) для CI/CD
# 4. Регулярно ротируй секреты (JWT_SECRET, API keys)

# ========================================
# ИНСТРУКЦИЯ
# ========================================

# 1. Скопируй этот файл: cp env.example.txt ../.env
# 2. Заполни все секреты и ключи
# 3. Проверь что .env добавлен в .gitignore
# 4. Никогда не коммитить .env в Git!
