# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ 404 –¥–ª—è welcomebaby.neetrino.com

## üö® –ü—Ä–æ–±–ª–µ–º–∞

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã Next.js –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω:
- `/_next/static/chunks/*.js` - 404
- `*.css` - 404
- `*.woff2` - 404
- `/images/logo.png` - 404

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh server
# –∏–ª–∏
ssh root@46.224.27.19
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

```bash
# 1. –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nano /etc/nginx/sites-available/welcomebaby.neetrino.com
```

**–í—Å—Ç–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ —Ñ–∞–π–ª–∞ `nginx-welcomebaby-config.conf`**

–ò–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä—è–º–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ñ–∞–π–ª nginx-welcomebaby-config.conf)
scp nginx-welcomebaby-config.conf server:/tmp/nginx-welcomebaby.conf
```

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp /tmp/nginx-welcomebaby.conf /etc/nginx/sites-available/welcomebaby.neetrino.com

# 3. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–∞–π—Ç (—Å–æ–∑–¥–∞—Ç—å —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É)
ln -sf /etc/nginx/sites-available/welcomebaby.neetrino.com /etc/nginx/sites-enabled/

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
nginx -t

# 5. –ï—Å–ª–∏ —Ç–µ—Å—Ç —É—Å–ø–µ—à–µ–Ω, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
systemctl reload nginx
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/welcomebaby.neetrino.com
# –∏–ª–∏ —Ç—É–¥–∞, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3000

# 2. –û–±–Ω–æ–≤–∏—Ç—å .env —Ñ–∞–π–ª
nano .env
```

**–î–æ–±–∞–≤–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å:**

```env
NODE_ENV=production
PORT=3000

# –í–ê–ñ–ù–û: –û–±–Ω–æ–≤–∏—Ç—å URL –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
NEXTAUTH_URL=https://welcomebaby.neetrino.com
NEXT_PUBLIC_API_URL=https://welcomebaby.neetrino.com/api
NEXT_PUBLIC_SITE_URL=https://welcomebaby.neetrino.com
```

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PM2
pm2 restart wl-shop
# –∏–ª–∏
pm2 restart all

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status
pm2 logs wl-shop --lines 50
```

### –®–∞–≥ 5: –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

–í –±—Ä–∞—É–∑–µ—Ä–µ:
- –ù–∞–∂–∞—Ç—å `Ctrl + Shift + R` (–∂–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞)
- –ò–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
tail -f /var/log/nginx/welcomebaby.neetrino.com.error.log
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
curl http://localhost:3000

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTML
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
curl http://localhost:3000/_next/static/chunks/webpack-*.js

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JavaScript –∫–æ–¥ (–Ω–µ 404)
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

1. **`/_next/static/`** - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ Next.js
2. **`proxy_pass http://localhost:3000`** - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 1 –≥–æ–¥
4. **Cloudflare Proxy** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ CF-*

## ‚ö†Ô∏è –ï—Å–ª–∏ –æ—à–∏–±–∫–∏ –æ—Å—Ç–∞–ª–∏—Å—å

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000:

```bash
netstat -tlnp | grep :3000
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å Node.js.

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
pm2 logs wl-shop --lines 100
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã
ls -la /var/www/welcomebaby.neetrino.com/.next/static/
```

### –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:

```bash
cd /var/www/welcomebaby.neetrino.com
rm -rf .next
npm run build
pm2 restart wl-shop
```

## üìù –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π:
nginx -t && systemctl reload nginx && pm2 restart wl-shop && echo "‚úÖ –ì–æ—Ç–æ–≤–æ!"
```

---

**–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:** –û—Ç–∫—Ä–æ–π—Ç–µ https://welcomebaby.neetrino.com/ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) - –æ—à–∏–±–∫–∏ 404 –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å!

